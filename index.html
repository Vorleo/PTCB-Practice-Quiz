
<!DOCTYPE html>
<html lang="en" data-theme="fallout">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PTCB Practice Test</title>

<style>
body{
 margin:0;
 background:#020403;
 color:#7cff9e;
 font-family:ui-monospace, monospace;
}

#boot{
 position:fixed;
 inset:0;
 background:#020403;
 display:flex;
 flex-direction:column;
 justify-content:center;
 align-items:center;
 z-index:99999;
}

.scanlines{
 position:absolute;
 inset:0;
 background:repeating-linear-gradient(rgba(0,0,0,.3) 0px, rgba(0,0,0,.3) 2px, transparent 2px, transparent 6px);
}

.crt{
 width:min(800px,90vw);
 height:260px;
 border:1px solid #7cff9e;
 padding:12px;
 overflow:hidden;
 background:rgba(0,0,0,.6);
}

.barwrap{
 width:min(800px,90vw);
 border:1px solid #7cff9e;
 margin-top:10px;
 height:10px;
}

.bar{
 height:100%;
 width:0%;
 background:#7cff9e;
}

#app{display:none;padding:20px}

button{
 background:#7cff9e;
 border:none;
 padding:10px 16px;
 border-radius:6px;
 font-weight:bold;
 cursor:pointer;
}
</style>
</head>

<body>

<div id="boot">
<div class="scanlines"></div>
<div class="crt" id="bootText"></div>
<div class="barwrap"><div class="bar" id="bootBar"></div></div>
</div>

<div id="app">
<h1>PTCB Practice Test</h1>
<button onclick="startTest()">Start Test</button>
<div id="questionArea"></div>
</div>

<script>
let banks={};
async function loadBanks(){
 banks.med = await fetch("med_bank.json").then(r=>r.json());
 banks.safe = await fetch("safety_bank.json").then(r=>r.json());
 banks.order = await fetch("order_bank.json").then(r=>r.json());
 banks.fed = await fetch("federal_bank.json").then(r=>r.json());
}
loadBanks();

let test=[];
let idx=0;
let answers={};

function buildTest(){
 test=[];
 function pick(arr,n){
  for(let i=0;i<n;i++){
    test.push(arr[Math.floor(Math.random()*arr.length)]);
  }
 }
 pick(banks.med,32);
 pick(banks.safe,21);
 pick(banks.order,20);
 pick(banks.fed,17);
}

function startTest(){
 buildTest();
 idx=0;
 showQ();
}

function showQ(){
 let q=test[idx];
 let opts=[q.correct,...q.wrong].sort(()=>Math.random()-.5);
 document.getElementById("questionArea").innerHTML =
 `<h3>${q.question}</h3>` +
 opts.map(o=>`<div onclick="answers[${idx}]='${o}'">${o}</div>`).join("");
}

(function(){
const lines=[
"VAULT TEC BIOS",
"CHECKING MEMORY",
"LOADING DATABASE",
"INITIALIZING TERMINAL",
"READY"
];
let i=0;
function step(){
 let t=document.getElementById("bootText");
 let b=document.getElementById("bootBar");
 if(i<lines.length){
  t.innerText+=lines[i]+"\n";
  b.style.width=((i+1)/lines.length*100)+"%";
  i++;
  setTimeout(step,400);
 }else{
  document.getElementById("boot").remove();
  document.getElementById("app").style.display="block";
 }
}
document.addEventListener("DOMContentLoaded",()=>setTimeout(step,200));
})();
</script>

</body>
</html>
